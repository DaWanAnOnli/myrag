// Uniqueness
CREATE CONSTRAINT entity_key_unique IF NOT EXISTS
FOR (e:Entity) REQUIRE e.key IS UNIQUE;

CREATE CONSTRAINT triple_uid IF NOT EXISTS
FOR (t:Triple) REQUIRE t.triple_uid IS UNIQUE;

// Vector indexes (EMBED_DIM = 768)
CREATE VECTOR INDEX entity_vec IF NOT EXISTS
FOR (e:Entity) ON (e.embedding)
OPTIONS { indexConfig: { `vector.dimensions`: 768, `vector.similarity_function`: 'COSINE' } };

CREATE VECTOR INDEX triple_vec IF NOT EXISTS
FOR (t:Triple) ON (t.embedding)
OPTIONS { indexConfig: { `vector.dimensions`: 768, `vector.similarity_function`: 'COSINE' } };

// Helpful property indexes
CREATE INDEX triple_predicate_idx IF NOT EXISTS
FOR (t:Triple) ON (t.predicate);

CREATE INDEX triple_doc_idx IF NOT EXISTS
FOR (t:Triple) ON (t.document_id);

CREATE INDEX triple_chunk_idx IF NOT EXISTS
FOR (t:Triple) ON (t.chunk_id);

// Full-text on entity names (optional)
CREATE FULLTEXT INDEX entity_fts IF NOT EXISTS
FOR (e:Entity) ON EACH [e.name];