// Uniqueness constraints
CREATE CONSTRAINT legal_document_unique IF NOT EXISTS
FOR (d:LegalDocument) REQUIRE (d.number, d.year) IS UNIQUE;

CREATE CONSTRAINT article_unique IF NOT EXISTS
FOR (a:LegalDocumentContent) REQUIRE (a.name, a.document_id) IS UNIQUE;

CREATE CONSTRAINT concept_unique IF NOT EXISTS
FOR (c:RuleExpression) REQUIRE c.expression_uid IS UNIQUE;

CREATE CONSTRAINT triple_uid IF NOT EXISTS
FOR (t:Triple) REQUIRE t.triple_uid IS UNIQUE;

// Vector indexes
CREATE VECTOR INDEX document_vec IF NOT EXISTS
FOR (d:LegalDocument) ON (d.embedding)
OPTIONS { indexConfig: { `vector.dimensions`: 768, `vector.similarity_function`: 'COSINE' } };

CREATE VECTOR INDEX content_vec IF NOT EXISTS
FOR (c:LegalDocumentContent) ON (c.embedding)
OPTIONS { indexConfig: { `vector.dimensions`: 768, `vector.similarity_function`: 'COSINE' } };

CREATE VECTOR INDEX expression_vec IF NOT EXISTS
FOR (e:RuleExpression) ON (e.embedding)
OPTIONS { indexConfig: { `vector.dimensions`: 768, `vector.similarity_function`: 'COSINE' } };

CREATE VECTOR INDEX triple_vec IF NOT EXISTS
FOR (t:Triple) ON (t.embedding)
OPTIONS { indexConfig: { `vector.dimensions`: 768, `vector.similarity_function`: 'COSINE' } };

// Full-text search indexes
CREATE FULLTEXT INDEX document_fts IF NOT EXISTS
FOR (d:LegalDocument) ON EACH [d.name];

CREATE FULLTEXT INDEX content_fts IF NOT EXISTS
FOR (c:LegalDocumentContent) ON EACH [c.description];

CREATE FULLTEXT INDEX expression_fts IF NOT EXISTS
FOR (e:RuleExpression) ON EACH [e.name];